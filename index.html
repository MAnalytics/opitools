<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Analyzing the Opinions in a Big Text Document • opitools</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Analyzing the Opinions in a Big Text Document">
<meta property="og:description" content="Designed for performing impact analysis of
  opinions in a digital text document (DTD). The 
  package allows a user to assess the extent to which a theme
  or subject within a document impacts the overall opinion 
  expressed in the document. The package can be applied to a wide 
  range of opinion-based DTD, including commentaries on social media
  platforms (such as Facebook, Twitter and Youtube), 
  online products reviews, and so on. 
  The utility of opitools was originally demonstrated 
  in Adepeju and Jimoh (2021) &lt;doi:10.31235/osf.io/c32qh&gt; in the 
  assessment of COVID-19 impacts on neighbourhood policing using 
  Twitter data. Further examples can be found in the vignette of 
  the package.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">opitools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.8.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/opitools-vignette.html">An Opinion Analytical Tool for Big Digital Text Document - A User Guide</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/MAnalytics/opitools/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<hr>
<p>output: html_document: default —</p>
<div id="opitools" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#opitools" class="anchor"></a>“Opitools”</h1></div>
<p>An R-package for analyzing Opinions in Big Digital Text Document (DTD)</p>
<div id="description" class="section level2">
<h2 class="hasAnchor">
<a href="#description" class="anchor"></a>Description</h2>
<p>The <code>opitools</code> is an R package for exploring a digital text document (DTD) as well as performing the impact analysis of the opinions expressed by the DTD. The package is particularly suited for opinion-based DTD, such as individual-level posts (e.g. commentaries on Twitter or Facebook) and comments (as in an online product reviews). First, an <code>exploratory</code> function <code>word_imp</code> can be used to identify words relating to different themes (or subjects) that are referenced in a DTD. The <code>opi_impact</code> function can then be utilized to investigate whether an identified/specified theme (or subject) impacts the overall opinion expressed by the document. The potentials of <code>opitools</code> for application across a wide range of domains is described briefly here (see the <code>vignette</code> for details).</p>
</div>
<div id="installation-from-cran" class="section level2">
<h2 class="hasAnchor">
<a href="#installation-from-cran" class="anchor"></a>Installation from <code>CRAN</code>
</h2>
<p>From an R console, type:</p>
<pre class="{r}"><code><a href="https://github.com/MAnalytics/opitools">#install.packages("opitools")
library(opitools)
</a></code></pre>
<p>To install the developmental version of the package, type: <code><a href="https://remotes.r-lib.org/reference/install_github.html">remotes::install_github("MAnalytics/opitools")</a></code>. Please, report any installation problems in the issues.</p>
</div>
<div id="example-usage" class="section level2">
<h2 class="hasAnchor">
<a href="#example-usage" class="anchor"></a>Example usage</h2>
<p>Below is an example usage of how <code>opitools</code> can be employed to identify themes (or subjects) from a DTD and then deployed to perform opinion impact analysis.</p>
<div id="importing-the-dataset" class="section level3">
<h3 class="hasAnchor">
<a href="#importing-the-dataset" class="anchor"></a>Importing the dataset</h3>
<p>The <code>policing_dtd</code> - a DTD comprising Twitter posts about police/policing in a neighbourhood, will be used in this demonstration.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="op">&gt;</span><span class="st"> </span><span class="kw">data</span>(policing_dtd)</span></code></pre></div>
</div>
<div id="identify-themes-subjects" class="section level3">
<h3 class="hasAnchor">
<a href="#identify-themes-subjects" class="anchor"></a>Identify themes (subjects)</h3>
<p>Utilize <code>word_imp</code> function to highlights terms or words in accordance to their importance in the DTD. Through visual inspection, collate related terms or words that denote specific theme or subject from the generated wordcloud. Several words relating to the COVId-19 pandemic, including ‘infect’, ‘pandemic’, and ‘lockdown’ can be identified as been important in the document. These words are provided as <code>covid_theme</code> in the package. The function can be ran as follows (see the documentation for details):</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="op">&gt;</span><span class="st"> </span>p1a &lt;-<span class="st"> </span><span class="kw">word_imp</span>(<span class="dt">textdoc =</span> policing_dtd, <span class="dt">metric=</span> <span class="st">"tf"</span>, </span>
<span id="cb3-2"><a href="#cb3-2"></a>                           <span class="dt">words_to_filter=</span><span class="kw">c</span>(<span class="st">"police"</span>,<span class="st">"policing"</span>))</span>
<span id="cb3-3"><a href="#cb3-3"></a>                           </span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="co">#Note: `policing_dtd` is a dataframe</span></span></code></pre></div>
</div>
<div id="impact-analysis" class="section level3">
<h3 class="hasAnchor">
<a href="#impact-analysis" class="anchor"></a>Impact analysis</h3>
<p>The impact analysis can be conducted as follows:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co">#Running the analysis</span></span>
<span id="cb4-2"><a href="#cb4-2"></a></span>
<span id="cb4-3"><a href="#cb4-3"></a>results &lt;-<span class="st"> </span><span class="kw">opi_impact</span>(<span class="dt">textdoc =</span> policing_dtd, <span class="dt">theme_keys=</span>covid_theme, <span class="dt">metric =</span> <span class="dv">1</span>,</span>
<span id="cb4-4"><a href="#cb4-4"></a>                       <span class="dt">fun =</span> <span class="ot">NULL</span>, <span class="dt">nsim =</span> <span class="dv">99</span>, <span class="dt">alternative=</span><span class="st">"two.sided"</span>,</span>
<span id="cb4-5"><a href="#cb4-5"></a>                       <span class="dt">pplot =</span> <span class="ot">TRUE</span>, <span class="dt">quiet=</span><span class="ot">FALSE</span>)</span>
<span id="cb4-6"><a href="#cb4-6"></a>                       </span>
<span id="cb4-7"><a href="#cb4-7"></a><span class="co">#Note: `policing_dtd` is a dataframe    </span></span>
<span id="cb4-8"><a href="#cb4-8"></a></span>
<span id="cb4-9"><a href="#cb4-9"></a><span class="kw">print</span>(results)</span>
<span id="cb4-10"><a href="#cb4-10"></a></span>
<span id="cb4-11"><a href="#cb4-11"></a><span class="op">$</span>test</span>
<span id="cb4-12"><a href="#cb4-12"></a>[<span class="dv">1</span>] <span class="st">"Test of significance (Randomization testing)"</span></span>
<span id="cb4-13"><a href="#cb4-13"></a></span>
<span id="cb4-14"><a href="#cb4-14"></a><span class="op">$</span>criterion</span>
<span id="cb4-15"><a href="#cb4-15"></a>[<span class="dv">1</span>] <span class="st">"two.sided"</span></span>
<span id="cb4-16"><a href="#cb4-16"></a></span>
<span id="cb4-17"><a href="#cb4-17"></a><span class="op">$</span>exp_summary</span>
<span id="cb4-18"><a href="#cb4-18"></a>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span>
<span id="cb4-19"><a href="#cb4-19"></a> <span class="fl">-8.240</span>  <span class="fl">-5.880</span>  <span class="fl">-5.880</span>  <span class="fl">-5.028</span>  <span class="fl">-3.530</span>  <span class="fl">-1.180</span> </span>
<span id="cb4-20"><a href="#cb4-20"></a></span>
<span id="cb4-21"><a href="#cb4-21"></a><span class="op">$</span>p_table</span>
<span id="cb4-22"><a href="#cb4-22"></a></span>
<span id="cb4-23"><a href="#cb4-23"></a></span>
<span id="cb4-24"><a href="#cb4-24"></a><span class="op">|</span>observed_score <span class="op">|</span>S_beat <span class="op">|</span>nsim <span class="op">|</span>pvalue  <span class="op">|</span>signif <span class="op">|</span></span>
<span id="cb4-25"><a href="#cb4-25"></a><span class="er">|:</span><span class="op">--------------</span><span class="er">|:</span><span class="op">------</span><span class="er">|:</span><span class="op">----</span><span class="er">|:</span><span class="op">-------</span><span class="er">|:</span><span class="op">------</span><span class="er">|</span></span>
<span id="cb4-26"><a href="#cb4-26"></a><span class="er">|</span><span class="op">-</span><span class="fl">5.88</span>          <span class="op">|</span><span class="dv">56</span>     <span class="op">|</span><span class="dv">99</span>   <span class="op">|</span><span class="fl">0.52</span>    <span class="op">|</span><span class="st">'      |</span></span>
<span id="cb4-27"><a href="#cb4-27"></a></span>
<span id="cb4-28"><a href="#cb4-28"></a><span class="st">$p_key</span></span>
<span id="cb4-29"><a href="#cb4-29"></a><span class="st">[1] "0.99'"   "</span><span class="fl">0.05</span><span class="op">*</span><span class="st">"   "</span><span class="fl">0.025</span><span class="op">**</span><span class="st">" "</span><span class="fl">0.01</span><span class="op">**</span><span class="er">*</span><span class="st">"</span></span>
<span id="cb4-30"><a href="#cb4-30"></a></span>
<span id="cb4-31"><a href="#cb4-31"></a><span class="st">$p_formula</span></span>
<span id="cb4-32"><a href="#cb4-32"></a><span class="st">[1] "</span>(S_beat <span class="op">+</span><span class="st"> </span><span class="dv">1</span>)<span class="op">/</span>(nsim <span class="op">+</span><span class="st"> </span><span class="dv">1</span>)<span class="st">"</span></span>
<span id="cb4-33"><a href="#cb4-33"></a></span>
<span id="cb4-34"><a href="#cb4-34"></a><span class="st">#......</span></span></code></pre></div>
<p>The research question of the analysis above can be stated as follows:</p>
<p><strong><em>RQ1</em></strong>: “Does COVID-19 pandemic influence public opinion on neighourhood policing?”</p>
<p>The output shows an overall negative opinion (<code>-5.88</code>) of the public on the neighbourhood policing, and that the pandemic has not had a significant impacts (<code>pvalue</code> = 0.52) on the opinion expressed by the public. (More detailed explanation can be found in the study <a href="https://www.scirp.org/journal/paperinformation.aspx?paperid=107836">adepeju, M. and Jimoh, F. (2021)</a>).</p>
</div>
<div id="other-applications" class="section level3">
<h3 class="hasAnchor">
<a href="#other-applications" class="anchor"></a>Other applications</h3>
<p>Table 1 summarizes the analysis using different example datasets provided in the package. The output from the law enforcement application (as in above) is entered in the first row of the table. Other research questions investigated are as follow:</p>
<p><strong><em>RQ2</em></strong>: “How does the democratic candidate (Hillary Clinton) affects viewers’ opinion of the presidential debate?”</p>
<p><strong><em>RQ3a</em></strong>: “Do the refreshment outlets/items impact customers’ opinion of the Piccadilly train services?”</p>
<p><strong><em>RQ4b</em></strong>: “Do the signages influence customers’ opinion of the Piccadilly train services?”</p>
<p><strong><em>Table 1. Impact analysis results</em></strong></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="op">|</span><span class="st">  </span>RQs   <span class="op">|</span><span class="st"> </span>Primary data <span class="op">|</span><span class="st"> </span>Theme_keys        <span class="op">|</span><span class="st"> </span>Score <span class="cf">function</span>   <span class="op">|</span><span class="st"> </span>Observed <span class="kw">Score</span> (S) <span class="op">|</span><span class="st"> </span>P<span class="op">-</span>value    <span class="op">|</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="er">|:</span><span class="op">-----</span><span class="er">:</span><span class="st"> </span><span class="er">|</span><span class="st"> </span><span class="er">:</span><span class="op">----------</span><span class="er">:</span><span class="st"> </span><span class="er">|</span><span class="st"> </span><span class="er">:</span><span class="op">---------------</span><span class="er">:</span><span class="st"> </span><span class="er">|</span><span class="st"> </span><span class="er">:</span><span class="op">---------------</span><span class="er">:|</span><span class="st"> </span><span class="er">:</span><span class="op">-----------------</span><span class="er">:|</span><span class="st"> </span><span class="er">:</span><span class="op">---------</span><span class="er">:|</span><span class="st"> </span></span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="er">|</span><span class="st">  </span>RQ1   <span class="op">|</span><span class="st"> </span>policing_dtd <span class="op">|</span><span class="st"> </span>covid_theme       <span class="op">|</span><span class="st"> 'Polarity score'</span> <span class="op">|</span><span class="st"> </span><span class="fl">-5.88</span>              <span class="op">|</span><span class="st"> </span><span class="fl">0.52</span>       <span class="op">|</span></span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="er">|</span><span class="st">  </span>RQ2   <span class="op">|</span><span class="st"> </span>debate_dtd   <span class="op">|</span><span class="st"> </span>direct input      <span class="op">|</span><span class="st"> 'Polarity score'</span> <span class="op">|</span><span class="st"> </span><span class="fl">-0.33</span>              <span class="op">|</span><span class="st"> </span><span class="fl">0.93</span>       <span class="op">|</span></span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="er">|</span><span class="st">  </span>RQ3a  <span class="op">|</span><span class="st"> </span>reviews_dtd  <span class="op">|</span><span class="st"> </span>refreshment_theme <span class="op">|</span><span class="st"> 'Polarity score'</span> <span class="op">|</span><span class="st"> </span><span class="fl">67.92</span>              <span class="op">|</span><span class="st"> </span><span class="fl">0.01</span>       <span class="op">|</span></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="er">|</span><span class="st">  </span>RQ3b  <span class="op">|</span><span class="st"> </span>reviews_dtd  <span class="op">|</span><span class="st"> </span>signage_theme     <span class="op">|</span><span class="st"> 'Polarity score'</span> <span class="op">|</span><span class="st"> </span><span class="fl">67.92</span>              <span class="op">|</span><span class="st"> </span><span class="fl">0.1</span>        <span class="op">|</span></span></code></pre></div>
<p>In each example, the same opinion score function is employed (<code>metric = 1</code>, i.e. the <code>polarity score = (P - N)/(P + N)*100</code>, where <code>P</code> and <code>N</code> represent <code>positive</code> and <code>negative</code> sentiments, respectively). See the documentation for details. Employing a threshold of <code>p=0.05</code>, any p-values less or equal to the threshold (e.g. RQ3a) represent a significant impact of the specified theme (i.e. <code>refreshment_theme</code>) on the overall opinion score computed based on the <code>reviews_dtd</code>.</p>
</div>
<div id="references" class="section level3">
<h3 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h3>
<ol>
<li>Adepeju, M. and Jimoh, F. (2021). An Analytical Framework for Measuring Inequality in the Public Opinions on Policing – Assessing the impacts of COVID-19 Pandemic using Twitter Data. <a href="https://www.scirp.org/journal/paperinformation.aspx?paperid=107836">click here:</a>
</li>
</ol>
</div>
</div>
<div id="code-of-conduct" class="section level2">
<h2 class="hasAnchor">
<a href="#code-of-conduct" class="anchor"></a>Code of Conduct</h2>
<p>Please note that the <code>opitools</code> package is released with a <a href="https://contributor-covenant.org/version/2/0/CODE_OF_CONDUCT.html">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=opitools">https://​cloud.r-project.org/​package=opitools</a>
</li>
<li>Browse source code at <br><a href="https://github.com/MAnalytics/opitools/">https://​github.com/​MAnalytics/​opitools/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/MAnalytics/opitools/issues/1">https://​github.com/​MAnalytics/​opitools/​issues/​1</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></li>
</ul>
</div>
<div class="community">
<h2>Community</h2>
<ul class="list-unstyled">
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Monsuru Adepeju <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Monsuru Adepeju.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
